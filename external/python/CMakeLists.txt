if (NOT EXISTS "${CMAKE_BINARY_DIR}/venv")
    find_package(Python COMPONENTS Interpreter)
    execute_process(COMMAND "${Python_EXECUTABLE}" -m venv "${CMAKE_BINARY_DIR}/venv")
    unset(Python_EXECUTABLE)
endif()
set(ENV{VIRTUAL_ENV} "${CMAKE_BINARY_DIR}/venv")
set(Python_FIND_VIRTUALENV FIRST)
find_package(Python COMPONENTS Interpreter Development)
execute_process(COMMAND "${CMAKE_BINARY_DIR}/venv/bin/pip" install -r "${CMAKE_CURRENT_SOURCE_DIR}/requirements.txt" --upgrade)